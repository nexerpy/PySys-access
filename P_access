import requests
import os
from datetime import datetime
from time import sleep

try:
    from colorama import Fore, Style, init
except ImportError:
    os.system('pip install colorama')
    from colorama import Fore, Style, init

init(autoreset=True)

def clear():
    os.system('cls' if os.name == 'nt' else 'clear')

clear()
print(f"{Fore.CYAN}{Style.BRIGHT}ü™ê NEXER PAID ACCESS SYSTEM\n")

ID = input(f"{Fore.YELLOW}Enter your Telegram User ID: {Fore.RESET}").strip()

# üì¶ Load access list from GitHub
try:
    response = requests.get("https://raw.githubusercontent.com/nexerpy/PySys-access/main/P_access")
    response.raise_for_status()
    valid_lines = response.text.splitlines()
except requests.RequestException:
    print(f"{Fore.RED}‚ö†Ô∏è Failed to check access. Check your internet connection.")
    os._exit(1)

access_granted = False

for line in valid_lines:
    try:
        user_id_part, date_part = line.split(',', 1)
        user_id_part = user_id_part.strip()
        date_time_str = date_part.strip()  # e.g., '2025-08-06 : 23:59'

        if ID == user_id_part:
            expiry_datetime = datetime.strptime(date_time_str, "%Y-%m-%d : %H:%M")
            current_datetime = datetime.now()

            if current_datetime <= expiry_datetime:
                print(f"{Fore.GREEN}‚úÖ Access Granted! Welcome Premium User ‚ú®")
                access_granted = True
            else:
                print(f"{Fore.RED}‚ùå Your subscription expired on {expiry_datetime.strftime('%Y-%m-%d %H:%M')}.")
            break
    except Exception:
        continue  # Skip invalid lines silently

if not access_granted:
    print(f"{Fore.RED}‚ùå Access Denied. Contact tg @Nexerpy for paid access.")
    sleep(2)
    os._exit(0)

print(f"{Fore.CYAN}\nüöÄ Loading your premium tool... Please wait.\n")
sleep(1)

# ========================
# üõ†Ô∏è YOUR PAID TOOL BELOW
# ========================
print(f"{Fore.GREEN}‚ú®HAVE FUN CUSTOMER!")
